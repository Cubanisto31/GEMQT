experiment_name: "Analyse_Referencement_Sources_2024"

duration_days: 1
iterations_per_query: 1
delay_between_iterations_seconds: 5
randomize_query_order: true
use_different_sessions: true
database_url: "sqlite:///experiment_results/experiment_data.db"

models:
  - name: "GPT-4o"
    type: "llm"
    client: "openai"
    enabled: true
    api_key_env_var: "OPENAI_API_KEY"
    parameters:
      model_name: "gpt-4o"
      temperature: 0.7
      max_tokens: 4000

  - name: "Claude-3-Sonnet"
    type: "llm"
    client: "claude"
    enabled: false
    api_key_env_var: "ANTHROPIC_API_KEY"
    parameters:
      model_name: "claude-3-5-sonnet-20241022"
      temperature: 0.7
      max_tokens: 4000

  - name: "Google-Search"
    type: "search_engine"
    client: "google_search"
    enabled: true
    api_key_env_var: "GOOGLE_API_KEY"
    search_engine_id_env_var: "GOOGLE_CX"
    parameters:
      num_results: 10

  - name: "Bing-Search"
    type: "search_engine"
    client: "bing_search"
    enabled: false  
    api_key_env_var: "BING_API_KEY"
    parameters:
      num_results: 10

  - name: "Gemini-Pro"
    type: "llm"
    client: "gemini"
    enabled: true
    api_key_env_var: "GEMINI_API_KEY"
    parameters:
      model_name: "gemini-1.5-flash"
      temperature: 0.7
      max_tokens: 4000

  - name: "Perplexity-Online"
    type: "llm"
    client: "perplexity"
    enabled: true
    api_key_env_var: "PERPLEXITY_API_KEY"
    parameters:
      model_name: "sonar"  # Modèle avec recherche web intégrée
      temperature: 0.7
      max_tokens: 4000
      search_recency_filter: "week"  # Filtre pour les résultats récents


  # ========== CLIENTS AVEC RECHERCHE WEB ==========


  - name: "GPT-4-Search"
    type: "llm"
    client: "openai_search"
    enabled: false
    api_key_env_var: "OPENAI_API_KEY"
    parameters:
      model_name: "gpt-4o"  # Utilise gpt-4o avec recherche activée
      temperature: 0.7
      max_tokens: 4000

  - name: "Claude-3-Sonnet-Search"
    type: "llm"
    client: "claude_search"
    enabled: false  # Désactivé par défaut (coûteux: $10/1000 recherches)
    api_key_env_var: "ANTHROPIC_API_KEY"
    parameters:
      model: "claude-3-5-sonnet-20241022"
      temperature: 0.7
      enable_search: true

  - name: "Gemini-Flash-Grounding" 
    type: "llm"
    client: "gemini_search"
    enabled: false  # Désactivé par défaut (coûteux: $35/1000 requêtes)
    api_key_env_var: "GOOGLE_API_KEY"
    parameters:
      model: "gemini-1.5-flash"
      temperature: 0.7

  - name: "Perplexity-Sonar-Pro"
    type: "llm"
    client: "perplexity_search"
    enabled: true
    api_key_env_var: "PERPLEXITY_API_KEY"
    parameters:
      model: "sonar-pro"  # Version Pro avec plus de citations
      temperature: 0.7
      return_images: false
      return_related_questions: false

# Requêtes de test pour les nouveaux clients de recherche
queries:
  - id: "test_search_sources"
    text: "Quelles sont les dernières avancées en intelligence artificielle générative en 2024?"
    category: "information"
    metadata:
      test_purpose: "Vérifier extraction des sources web"
      complexity: "medium"

